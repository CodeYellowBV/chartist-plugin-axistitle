{"version":3,"file":"chartist-plugin-axistitle.min.js","sources":["chartist-plugin-axistitle.js"],"names":["root","factory","define","amd","exports","module","this","window","document","Chartist","getTitle","title","Function","axisDefaults","className","offset","x","y","textAnchor","flipText","defaultOptions","axisX","extend","axisY","plugins","options","chart","on","data","Error","xPos","yPos","axisLength","chartPadding","left","top","position","Svg","addClass","text","attr","text-anchor","svg","append","transform","flipTitle","ctAxisTitle"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,UAAW,WACT,MAAQF,GAAK,gCAAkCC,MAErB,gBAAZG,SAIhBC,OAAOD,QAAUH,IAEjBD,EAAK,gCAAkCC,KAEzCK,KAAM,WA6HR,MAtHC,UAAUC,EAAQC,EAAUC,GACzB,YAkBA,SAASC,GAASC,GACd,MAAIA,aAAiBC,UACVD,IAGJA,EArBX,GAAIE,IACAF,MAAO,GACPG,UAAW,gBACXC,QACIC,EAAG,EACHC,EAAG,GAEPC,WAAY,SACZC,UAAU,GAGVC,GACAC,MAAQZ,EAASa,UAAWT,GAC5BU,MAAQd,EAASa,UAAWT,GAYhCO,GAAeC,MAAMN,OAAOE,EAAI,GAIhCG,EAAeG,MAAMR,OAAOE,EAAI,GAEhCR,EAASe,QAAUf,EAASe,YAC5Bf,EAASe,QAAQb,MAAQ,SAAUc,GAI/B,MAFAA,GAAUhB,EAASa,UAAWF,EAAgBK,GAEvC,SAAeC,GAElBA,EAAMC,GAAG,UAAW,SAAUC,GAE1B,IAAKH,EAAQJ,MAAMV,QAAUc,EAAQF,MAAMZ,MACvC,KAAM,IAAIkB,OAAM,uEACb,KAAKD,EAAKP,QAAUO,EAAKL,MAC5B,KAAM,IAAIM,OAAM,mFAGpB,IAAIC,GACAC,EACApB,CA+BJ,IA5BIc,EAAQJ,MAAMV,OAASiB,EAAKP,QAE5BS,EAAQF,EAAKP,MAAMW,WAAa,EAAKJ,EAAKH,QAAQF,MAAMR,OAASa,EAAKH,QAAQQ,aAAaC,KAE3FH,EAAOH,EAAKH,QAAQQ,aAAaE,IAEG,QAAhCP,EAAKH,QAAQF,MAAMa,WACnBN,GAAQF,EAAKH,QAAQF,MAAMR,QAGK,QAAhCa,EAAKH,QAAQJ,MAAMe,WACnBL,GAAQH,EAAKL,MAAMS,YAGvBrB,EAAQ,GAAIF,GAAS4B,IAAI,QACzB1B,EAAM2B,SAASb,EAAQJ,MAAMP,WAC7BH,EAAM4B,KAAK7B,EAASe,EAAQJ,MAAMV,QAClCA,EAAM6B,MACFxB,EAAGc,EAAOL,EAAQJ,MAAMN,OAAOC,EAC/BC,EAAGc,EAAON,EAAQJ,MAAMN,OAAOE,EAC/BwB,cAAehB,EAAQJ,MAAMH,aAGjCU,EAAKc,IAAIC,OAAOhC,GAAO,IAKvBc,EAAQF,MAAMZ,OAASiB,EAAKL,MAAO,CACnCO,EAAO,EAGPC,EAAQH,EAAKL,MAAMS,WAAa,EAAKJ,EAAKH,QAAQQ,aAAaE,IAE3B,UAAhCP,EAAKH,QAAQJ,MAAMe,WACnBL,GAAQH,EAAKH,QAAQJ,MAAMN,QAGK,QAAhCa,EAAKH,QAAQF,MAAMa,WACnBN,EAAOF,EAAKP,MAAMW,WAGtB,IAAIY,GAAY,WAAanB,EAAQF,MAAMsB,UAAY,IAAM,IAAM,KAAOf,EAAO,KAAOC,EAAO,GAE/FpB,GAAQ,GAAIF,GAAS4B,IAAI,QACzB1B,EAAM2B,SAASb,EAAQF,MAAMT,WAC7BH,EAAM4B,KAAK7B,EAASe,EAAQF,MAAMZ,QAClCA,EAAM6B,MACFxB,EAAGc,EAAOL,EAAQF,MAAMR,OAAOC,EAC/BC,EAAGc,EAAON,EAAQF,MAAMR,OAAOE,EAC/B2B,UAAWA,EACXH,cAAehB,EAAQF,MAAML,aAGjCU,EAAKc,IAAIC,OAAOhC,GAAO,SAQzCJ,OAAQC,SAAUC,UAEbA,SAASe,QAAQsB","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function () {\n      return (root['Chartist.plugins.ctAxisTitle'] = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Chartist.plugins.ctAxisTitle'] = factory();\n  }\n}(this, function () {\n\n/**\n * Chartist.js plugin to display a title for 1 or 2 axises.\n *\n */\n/* global Chartist */\n(function (window, document, Chartist) {\n    'use strict';\n\n    var axisDefaults = {\n        title: '',\n        className: 'ct-axis-title',\n        offset: {\n            x: 0,\n            y: 0\n        },\n        textAnchor: 'middle',\n        flipText: false\n    };\n\n    var defaultOptions = {\n        axisX:  Chartist.extend({}, axisDefaults),\n        axisY:  Chartist.extend({}, axisDefaults)\n    };\n\n    function getTitle(title) {\n        if (title instanceof Function) {\n            return title();\n        }\n\n        return title;\n    }\n\n    //as axisX will usually be at the bottom, set it to be below the labels\n    defaultOptions.axisX.offset.y = 40;\n\n    //this will stop the title text being slightly cut off at the bottom.\n    //TODO - implement a cleaner fix.\n    defaultOptions.axisY.offset.y = -1;\n\n    Chartist.plugins = Chartist.plugins || {};\n    Chartist.plugins.title = function (options) {\n\n        options = Chartist.extend({}, defaultOptions, options);\n\n        return function title(chart) {\n\n            chart.on('created', function (data) {\n\n                if (!options.axisX.title && !options.axisY.title) {\n                    throw new Error('Chartist axisTitle plugin - You must provide at least one axis title');\n                } else if (!data.axisX && !data.axisY) {\n                    throw new Error('Chartist axisTitle plugin can only be used on charts that have at least one axis');\n                }\n\n                var xPos;\n                var yPos;\n                var title;\n\n                //position axis X title\n                if (options.axisX.title && data.axisX) {\n\n                    xPos = (data.axisX.axisLength / 2) + data.options.axisY.offset + data.options.chartPadding.left;\n\n                    yPos = data.options.chartPadding.top;\n\n                    if (data.options.axisY.position === 'end') {\n                        xPos -= data.options.axisY.offset;\n                    }\n\n                    if (data.options.axisX.position === 'end') {\n                        yPos += data.axisY.axisLength;\n                    }\n\n                    title = new Chartist.Svg(\"text\");\n                    title.addClass(options.axisX.className);\n                    title.text(getTitle(options.axisX.title));\n                    title.attr({\n                        x: xPos + options.axisX.offset.x,\n                        y: yPos + options.axisX.offset.y,\n                        \"text-anchor\": options.axisX.textAnchor\n                    });\n\n                    data.svg.append(title, true);\n\n                }\n\n                //position axis Y title\n                if (options.axisY.title && data.axisY) {\n                    xPos = 0;\n\n\n                    yPos = (data.axisY.axisLength / 2) + data.options.chartPadding.top;\n\n                    if (data.options.axisX.position === 'start') {\n                        yPos += data.options.axisX.offset;\n                    }\n\n                    if (data.options.axisY.position === 'end') {\n                        xPos = data.axisX.axisLength;\n                    }\n\n                    var transform = 'rotate(' + (options.axisY.flipTitle ? -90 : 90) + ', ' + xPos + ', ' + yPos + ')';\n\n                    title = new Chartist.Svg(\"text\");\n                    title.addClass(options.axisY.className);\n                    title.text(getTitle(options.axisY.title));\n                    title.attr({\n                        x: xPos + options.axisY.offset.x,\n                        y: yPos + options.axisY.offset.y,\n                        transform: transform,\n                        \"text-anchor\": options.axisY.textAnchor\n                    });\n\n                    data.svg.append(title, true);\n\n                }\n\n            });\n        };\n    };\n\n}(window, document, Chartist));\n\nreturn Chartist.plugins.ctAxisTitle;\n\n}));\n"]}